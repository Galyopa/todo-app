(this["webpackJsonpreact_people-table-basics"]=this["webpackJsonpreact_people-table-basics"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c,r=n(11),a=(n(20),n(21),n(22),n(7)),o=n(0),s=n(2),u=n(4);!function(e){e.Completed="completed",e.Active="active"}(c||(c={}));var i=n(8),l=n.n(i),d=n(1),j=function(e){return l()({selected:e.isActive})},b=function(){return Object(d.jsxs)("ul",{className:"filters",children:[Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/",className:j,children:"All"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/".concat(c.Active),className:j,children:"Active"})}),Object(d.jsx)("li",{children:Object(d.jsx)(a.b,{to:"/".concat(c.Completed),className:j,children:"Completed"})})]})},f=n(6),p=n(3),h=n.n(p),O="https://mate.academy/students-api";function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c={method:t};return n&&(c.body=JSON.stringify(n),c.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(O+e,c).then((function(e){return e.json()}))}var x=function(e){return m(e)},v=function(e,t){return m(e,"POST",t)},k=function(e,t){return m(e,"PATCH",t)},y=function(e){return m(e,"DELETE")},g=function(e){return x("/todos?userId=".concat(e))},C=function(e){return y("/todos/".concat(e))},w=function(e,t){return k("/todos/".concat(e),t)},N=3924,T=Object(o.createContext)(null),A=function(e){var t=e.children,n=Object(o.useState)([]),c=Object(u.a)(n,2),r=c[0],a=c[1];Object(o.useEffect)((function(){g(N).then(a)}),[]);var s=Object(o.useCallback)(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v("/todos",t);case 2:e.sent&&g(N).then(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),i=Object(o.useCallback)(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.id,{completed:!t.completed});case 2:e.sent&&g(N).then(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),l=Object(o.useCallback)(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,Promise.all(r.map(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t.id,{completed:!t.completed});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.next=7;break;case 5:return e.next=7,Promise.all(r.map(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.completed){e.next=3;break}return e.next=3,w(t.id,{completed:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:g(N).then(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r]),j=Object(o.useCallback)(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.completed){e.next=3;break}return e.next=3,C(t.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:g(N).then(a);case 3:case"end":return e.stop()}}),e)}))),[r]),b=Object(o.useCallback)(function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.id);case 2:e.sent&&g(N).then(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),p=Object(o.useCallback)(function(){var e=Object(f.a)(h.a.mark((function e(t,n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.trim()){e.next=4;break}c=b(n),e.next=7;break;case 4:return e.next=6,w(n.id,{title:t.trim()});case 6:c=e.sent;case 7:c&&g(N).then(a);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),O=Object(o.useMemo)((function(){return{todos:r,addTodo:s,changeStatusTodo:i,deleteTodo:b,toogleALL:l,editeTodoTitle:p,deleteAllCompleted:j}}),[r]);return Object(d.jsx)(T.Provider,{value:O,children:t})},S=function(){var e=Object(o.useContext)(T),t=e.todos,n=e.deleteAllCompleted;return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsxs)("span",{className:"todo-count","data-cy":"todosCounter",children:[t.filter((function(e){return!1===e.completed})).length," ","items left"]}),Object(d.jsx)(b,{}),Object(d.jsx)("button",{type:"button",className:"clear-completed",onClick:n,children:"Clear completed"})]})},E=function(e){var t=e.onSubmit,n=Object(o.useState)(""),c=Object(u.a)(n,2),r=c[0],a=c[1];return Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault();var n={title:r.trim(),userId:3924,completed:!1};r.trim()&&(t(n),a(""))},children:Object(d.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:r,onChange:function(e){return a(e.target.value)}})})},P=function(e){var t=e.todo,n=Object(o.useContext)(T),c=n.changeStatusTodo,r=n.deleteTodo,a=n.editeTodoTitle,s=Object(o.useRef)(null),i=Object(o.useState)(!1),j=Object(u.a)(i,2),b=j[0],f=j[1],p=Object(o.useState)(t.title),h=Object(u.a)(p,2),O=h[0],m=h[1];Object(o.useEffect)((function(){s.current&&s.current.focus()}),[b]);return Object(d.jsxs)("li",{className:l()({completed:!0===t.completed},{editing:b}),children:[Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{type:"checkbox",className:"toggle",checked:!0===t.completed,onChange:function(){return c(t)}}),Object(d.jsx)("label",{onDoubleClick:function(){f(!0)},children:t.title}),Object(d.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return r(t)},"aria-label":"remove this todo"})]}),Object(d.jsx)("input",{ref:s,type:"text",id:"".concat(t.id),className:"edit",value:O,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.target.blur(),"Escape"===e.key&&f(!1)},onBlur:function(){O!==t.title&&a(O,t),f(!1)}})]})},L=function(e){var t=e.todos;return Object(d.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:t.map((function(e){return Object(d.jsx)(P,{todo:e},e.id)}))})},B=function(){var e=Object(o.useContext)(T),t=e.todos,n=e.addTodo,r=e.toogleALL,a=Object(s.h)().filterBy,i=Object(o.useState)(!1),l=Object(u.a)(i,2),j=l[0],b=l[1];Object(o.useEffect)((function(){var e=t.every((function(e){return e.completed}));b(e)}),[t]);var f=Object(o.useMemo)((function(){return t.filter((function(e){switch(a){case c.Active:return!e.completed;case c.Completed:return e.completed;default:return!0}}))}),[t,a]);return Object(d.jsxs)("div",{className:"todoapp",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)(E,{onSubmit:n})]}),Object(d.jsxs)("section",{className:"main",children:[Object(d.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:!j,onChange:function(){return r(j)}}),Object(d.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(d.jsx)(L,{todos:f})]}),Object(d.jsx)(S,{})]})},D=function(){return Object(d.jsxs)(s.d,{children:[Object(d.jsxs)(s.b,{path:"/",children:[Object(d.jsx)(s.b,{index:!0,element:Object(d.jsx)(A,{children:Object(d.jsx)(B,{})})}),Object(d.jsx)(s.b,{path:":filterBy",element:Object(d.jsx)(A,{children:Object(d.jsx)(B,{})})})]}),Object(d.jsx)(s.b,{path:"/home",element:Object(d.jsx)(s.a,{to:"/",replace:!0})}),Object(d.jsx)(s.b,{path:"*",element:Object(d.jsx)("h1",{children:"Page not found"})})]})};Object(r.createRoot)(document.getElementById("root")).render(Object(d.jsx)(a.a,{children:Object(d.jsx)(D,{})}))}},[[26,1,2]]]);
//# sourceMappingURL=main.767cec9a.chunk.js.map